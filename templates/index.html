<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Finance Expert AI</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        .score-bar { width: 100%; background: #eee; border-radius: 10px; height: 20px; margin: 10px 0; }
        .score-fill { height: 100%; border-radius: 10px; transition: width 1s; }
    </style>
</head>
<body class="container" style="padding-top: 50px;">
    <header style="text-align: center;">
        <h1>ğŸ’° í€€íŠ¸ ì „ë¬¸ê°€ì˜ ì¡±ì§‘ê²Œ ë¶„ì„</h1>
        <p>ë¯¸êµ­ ì£¼ì‹ í‹°ì»¤ë¥¼ ì…ë ¥í•˜ë©´ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.</p>
    </header>
    
    <form method="post" action="/analyze">
        <input type="text" name="ticker" placeholder="ì˜ˆ: AAPL, TSLA, NVDA" required>
        <button type="submit" class="contrast">ë¶„ì„ ì‹œì‘</button>
    </form>

    {% if result %}
    <article>
        <header><strong>{{ ticker }}</strong> ë¶„ì„ ê²°ê³¼</header>
        <div style="display: flex; justify-content: space-between;">
            <h3>í˜„ì¬ê°€: ${{ result.price }}</h3>
            <h3 style="color: {{ 'red' if result.change < 0 else 'green' }}">
                {{ result.change }}%
            </h3>
        </div>
        
        <label>íˆ¬ì ë§¤ë ¥ë„: {{ result.score }}ì </label>
        <div class="score-bar">
            <div class="score-fill" style="width: {{ result.score }}%; background: {{ result.color }};"></div>
        </div>

        <h2 style="color: {{ result.color }}; text-align: center;">{{ result.status }}</h2>
        <p style="text-align: center; font-style: italic;">"{{ result.msg }}"</p>
    </article>
    {% else %}
        {% if ticker %}
        <p style="color: red;">ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í‹°ì»¤ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.</p>
        {% endif %}
    {% endif %}
</body>
</html>