<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>AI Quant Strategy Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        :root { --primary: #3498db; }
        .grid-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem; }
        .stat-card { padding: 1rem; background: #1a212c; border-radius: 8px; text-align: center; border: 1px solid #2d3748; }
        .score-bar { width: 100%; background: #2d3748; border-radius: 10px; height: 12px; margin: 15px 0; }
        .score-fill { height: 100%; border-radius: 10px; transition: width 1s ease-in-out; }
        .ai-box { background: #2c3e50; border-left: 5px solid #3498db; padding: 1.5rem; margin-top: 1rem; border-radius: 0 8px 8px 0; }
    </style>
</head>
<body class="container" style="padding: 40px 0;">
    <h1 style="text-align: center;">ğŸ¤– AI í€€íŠ¸ ì „ëµ ì–´ì‹œìŠ¤í„´íŠ¸</h1>
    
    <form method="post" action="/analyze">
        <div style="display: flex; gap: 10px;">
            <input type="text" name="ticker" placeholder="ë¯¸êµ­ ì£¼ì‹ í‹°ì»¤ (ì˜ˆ: NVDA, TSLA)" required>
            <button type="submit" class="contrast">AI ë¶„ì„ ì‹œì‘</button>
        </div>
    </form>

    {% if result %}
    <article>
        <header>
            <h2 style="margin: 0;">{{ ticker }} <small>ì‹¤ì‹œê°„ í€€íŠ¸ ë°ì´í„°</small></h2>
        </header>

        <div class="grid-stats">
            <div class="stat-card">
                <small>í˜„ì¬ê°€</small>
                <h3>${{ result.price }}</h3>
                <span style="color: {{ 'red' if result.change < 0 else '#2ecc71' }}">{{ result.change }}%</span>
            </div>
            <div class="stat-card">
                <small>RSI (14ì¼)</small>
                <h3>{{ result.rsi }}</h3>
            </div>
            <div class="stat-card">
                <small>PER</small>
                <h3>{{ result.pe }}</h3>
            </div>
        </div>

        <div class="ai-box">
            <h4 style="color: #3498db; margin-bottom: 0.5rem;">ğŸ’¡ ì „ë¬¸ê°€ ë¬¸ì„œ ê¸°ë°˜ AI ì¡°ì–¸</h4>
            <p style="margin: 0; line-height: 1.6;">{{ result.msg }}</p>
        </div>

        <div style="margin-top: 2rem; text-align: center;">
            <label>ì¢…í•© ë§¤ë ¥ë„: <strong>{{ result.score }}ì </strong></label>
            <div class="score-bar">
                <div class="score-fill" style="width: {{ result.score }}%; background: {{ result.color }};"></div>
            </div>
            <h2 style="color: {{ result.color }};">{{ result.status }}</h2>
        </div>

        <footer>
            <strong>ê¸°ì—… ìš”ì•½:</strong><br>
            <small>{{ result.summary }}</small>
        </footer>
    </article>
    {% endif %}
</body>
</html>