<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>AI Strategy Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        .ai-card { border-left: 10px solid var(--color); padding: 2rem; background: #1a212c; border-radius: 8px; margin-top: 2rem; }
        .score-bar { width: 100%; background: #2d3748; border-radius: 10px; height: 15px; margin: 20px 0; }
        .score-fill { height: 100%; border-radius: 10px; transition: width 1s ease-in-out; }
    </style>
</head>
<body class="container" style="padding: 50px 0;">
    <h1 style="text-align: center;">ğŸ¤– AI í€€íŠ¸ ì „ëµ ë¦¬ì„œì¹˜</h1>
    
    <form method="post" action="/analyze">
        <div style="display: flex; gap: 10px;">
            <input type="text" name="ticker" placeholder="í‹°ì»¤ ì…ë ¥ (ì˜ˆ: NVDA)" required>
            <button type="submit" class="contrast">ì „ëµ ë¶„ì„ ì‹¤í–‰</button>
        </div>
    </form>

    {% if result %}
    <article class="ai-card" style="--color: {{ result.color or '#3498db' }};">
        <h2 style="margin: 0;">{{ ticker }} <small>ì „ëµ ì§„ë‹¨ ê²°ê³¼</small></h2>
        <div style="margin: 2rem 0; text-align: center;">
            <p style="font-size: 3.5rem; font-weight: bold; color: {{ result.color or '#3498db' }}; margin: 0;">
                {{ result.score if result.score is not none else '50' }}ì 
            </p>
            <div class="score-bar">
                <div class="score-fill" style="width: {{ result.score or 50 }}%; background: {{ result.color or '#3498db' }};"></div>
            </div>
            <h3>{{ result.status or 'ë¶„ì„ ì™„ë£Œ' }}</h3>
        </div>
        <div style="background: #2c3e50; padding: 1.5rem; border-radius: 8px;">
            <h5 style="color: #3498db; margin-bottom: 1rem;">ğŸ“ ì „ë¬¸ê°€ PDF ê¸°ë°˜ ì¡°ì–¸</h5>
            <p style="margin: 0; line-height: 1.8; font-size: 1.1rem;">
                {{ result.msg or 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.' }}
            </p>
        </div>
    </article>
    {% endif %}
</body>
</html>