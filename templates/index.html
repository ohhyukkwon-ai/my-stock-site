<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>AI Quant Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        .ai-card { border-left: 8px solid var(--color); padding: 1.5rem; background: #1a212c; border-radius: 8px; margin-top: 2rem; }
        .score-bar { width: 100%; background: #2d3748; border-radius: 10px; height: 12px; margin: 15px 0; }
        .score-fill { height: 100%; border-radius: 10px; transition: width 1s ease-in-out; }
        .data-failed { color: #95a5a6; font-style: italic; }
    </style>
</head>
<body class="container" style="padding: 50px 0;">
    <header style="text-align: center; margin-bottom: 2rem;">
        <h1>ğŸ’° AI í€€íŠ¸ ì „ëµ ì„¼í„°</h1>
        <p>ì‹¤ì‹œê°„ ì‹œì„¸ì™€ PDF ì „ëµ ë¬¸ì„œë¥¼ ê²°í•©í•˜ì—¬ ë¶„ì„í•©ë‹ˆë‹¤.</p>
    </header>

    <form method="post" action="/analyze">
        <div style="display: flex; gap: 10px;">
            <input type="text" name="ticker" placeholder="í‹°ì»¤ ì…ë ¥ (ì˜ˆ: NVDA)" required>
            <button type="submit" class="contrast">ì „ëµ ë¶„ì„ ì‹¤í–‰</button>
        </div>
    </form>

    {% if result %}
    <article class="ai-card" style="--color: {{ result.color }};">
        <header style="display: flex; justify-content: space-between; align-items: center;">
            <h2 style="margin: 0;">{{ ticker }} ê²°ê³¼</h2>
            <div>
                {% if result.price == "N/A" %}
                    <span class="data-failed">ì‹¤ì‹œê°„ ì‹œì„¸ ë¡œë“œ ì‹¤íŒ¨</span>
                {% else %}
                    <strong style="font-size: 1.5rem;">${{ result.price }}</strong>
                    <span style="color: {{ 'red' if result.change < 0 else '#2ecc71' }}">({{ result.change }}%)</span>
                {% endif %}
            </div>
        </header>

        <div style="margin: 1.5rem 0;">
            <label>ì¢…í•© ë§¤ë ¥ë„: {{ result.score }}ì </label>
            <div class="score-bar">
                <div class="score-fill" style="width: {{ result.score }}%; background: {{ result.color }};"></div>
            </div>
            <h3 style="color: {{ result.color }}; text-align: center;">{{ result.status }}</h3>
        </div>

        <div style="background: #2c3e50; padding: 1.2rem; border-radius: 8px;">
            <h5 style="color: #3498db; margin-bottom: 0.5rem;">ğŸ’¡ ì „ë¬¸ê°€ PDF ê¸°ë°˜ ì¡°ì–¸</h5>
            <p style="margin: 0; line-height: 1.6;">{{ result.msg }}</p>
        </div>
    </article>
    {% endif %}
</body>
</html>